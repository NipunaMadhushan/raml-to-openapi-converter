#%RAML 1.0
title: Complete E-Commerce API
version: 2.0
description: Full-featured e-commerce API
baseUri: https://api.shop.com/v2

types:
  Product:
    type: object
    properties:
      id:
        type: integer
      name:
        type: string
      description:
        type: string
      price:
        type: number
      stock:
        type: integer
      category:
        type: string
  
  Order:
    type: object
    properties:
      id:
        type: integer
      customerId:
        type: integer
      products:
        type: array
        items:
          type: object
          properties:
            productId:
              type: integer
            quantity:
              type: integer
      totalAmount:
        type: number
      status:
        type: string
        enum: [pending, processing, shipped, delivered]

securitySchemes:
  oauth2:
    type: OAuth 2.0
    settings:
      authorizationUri: https://auth.shop.com/authorize
      accessTokenUri: https://auth.shop.com/token
      authorizationGrants: [authorization_code]
      scopes:
        - read:products
        - write:products
        - read:orders
        - write:orders

securedBy: [oauth2]

/products:
  get:
    description: List all products
    securedBy: [null]
    queryParameters:
      category:
        type: string
        required: false
      minPrice:
        type: number
        required: false
      maxPrice:
        type: number
        required: false
    responses:
      200:
        body:
          application/json:
            type: Product[]
  
  post:
    description: Create new product
    securedBy:
      - oauth2:
          scopes: [write:products]
    body:
      application/json:
        type: Product
    responses:
      201:
        body:
          application/json:
            type: Product
  
  /{productId}:
    get:
      description: Get product by ID
      securedBy: [null]
      responses:
        200:
          body:
            application/json:
              type: Product
        404:
          description: Product not found

/orders:
  get:
    description: List user orders
    securedBy:
      - oauth2:
          scopes: [read:orders]
    responses:
      200:
        body:
          application/json:
            type: Order[]
  
  post:
    description: Create new order
    securedBy:
      - oauth2:
          scopes: [write:orders]
    body:
      application/json:
        type: Order
    responses:
      201:
        body:
          application/json:
            type: Order
            